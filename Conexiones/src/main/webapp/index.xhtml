<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputStylesheet name="primefaces.css" library="primefaces" />
	<h:outputScript name="jquery/jquery.js" library="primefaces" />
	<h:outputScript name="primefaces.js" library="primefaces" />
	<link rel="stylesheet" type="text/css" href="estilos.css" />
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	<style>

.hidden-panels {
	
}

/* Establece el fondo de la imagen y la fuente */
body {
	background: url('fondo.png') no-repeat center center fixed;
	background-size: cover;
	font-family: Arial, sans-serif;
	margin: 0;
	color: #333;
}

/* Contenedor principal */
.container {
	width: 80%;
	margin: 0 auto;
	padding: 20px;
}

/* Encabezados */
h1 {
	font-size: 24px;
	margin-bottom: 20px;
}

/* Estilos de los paneles */
.panel-imagen {
	display: inline-block;
	/* Cambiado a "inline-block" para que estén en una sola fila */
	width: 20%;
	/* Ajusta el ancho para que haya espacio para las 5 imágenes */
	padding: 10px;
	/* Agrega espacio entre las imágenes */
	text-align: center;
	/* Centra el contenido horizontalmente */
}

.panel-imagen img {
	max-width: 90%;
	max-height: 0%;
}

.panel-imagen img {
	max-width: 100%;
	max-height: 100%;
}

.panel-header {
	background-color: rgba(0, 123, 255, 0.8);
	color: #fff;
	padding: 15px;
	font-weight: bold;
	border-top-left-radius: 10px;
	border-top-right-radius: 10px;
}

.panel-content {
	color: #555;
	margin-top: 15px;
}

/* Estilos de campos de entrada */
.input-label {
	font-weight: bold;
	color: #555;
	margin-bottom: 5px;
}

.input-field {
	width: 100%;
	padding: 10px;
	border: 1px solid #ccc;
	border-radius: 5px;
	margin-bottom: 10px;
}

/* Estilos de los botones */
.btn {
	padding: 10px 20px;
	border: none;
	border-radius: 4px;
	cursor: pointer;
	font-size: 16px;
	transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
}

.btn-primary {
	background-color: #007bff;
	color: #fff;
}

.btn-primary:hover {
	background-color: #0056b3;
}

.btn-secondary {
	background-color: #6c757d;
	color: #fff;
}

.btn-secondary:hover {
	background-color: #545b62;
}

/* Efecto de resaltado en campos de entrada */
.input-field:focus {
	box-shadow: 0 0 5px #007bff;
}

/* Estilos de la tabla */
.p-datatable {
	border-collapse: collapse;
	width: 100%;
}

.p-datatable thead th {
	background-color: #f0f0f0;
	font-weight: bold;
	padding: 10px;
	text-align: left;
	border-bottom: 2px solid #ccc;
}

.p-datatable tbody td {
	padding: 10px;
	border-bottom: 1px solid #ccc;
}

/* Estilos de los panelGrid dentro de los paneles */
.panel .ui-panelgrid {
	background-color: transparent;
	border: none;
	box-shadow: none;
	margin: 0;
	padding: 0;
}

.hidden-panels {
	display: none;
}

/* Paneles Cliente y Vehículo */
.panel-cliente,
.panel-vehiculo {
	max-width: 50%;
	background-color: rgba(255, 255, 255, 0.6);
}



/* Panel de Resultados */
.panel-resultados {
	background-color: rgba(255, 255, 255, 0.8);
	border: 1px solid #ccc;
	border-radius: 10px;
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	padding: 20px;
	margin-bottom: 20px;
	max-width: 33%;
	/* Reducido al tercio del tamaño */
}


.btn-with-image {
	background-image: url('fondo.png');
	background-repeat: no-repeat;
	background-size: cover;
	padding-left: 40px;
	/* Espacio para la imagen a la izquierda del texto */
}

.panel-inicio {
	background-color: rgba(255, 255, 255, 0.6);
	border: 1px solid #ccc;
	border-radius: 10px;
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	padding: 20px;
	margin-bottom: 20px;
	width: 30%;
	/* Ancho del panel de inicio */
}

.panel {
	background-color: rgba(255, 255, 255, 0.6);
	/* Cambia el valor alfa para controlar la transparencia */
	border: 1px solid #ccc;
	border-radius: 10px;
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
	padding: 20px;
	margin-bottom: 20px;
}


/* Agrega el estilo para el panel de inicio */
.panel-inicio {
	background-color: transparent;
	/* Fondo transparente */
	border: none;
	/* Borde sin estilo */
	padding: 0;
	/* Espaciado interno cero */
}

/* Estilo para hacer que el título del panel tenga un fondo semitransparente */
.ui-panel-titlebar {
	background-color: rgba(255, 255, 255, 0.7);
	/* Fondo blanco semitransparente */
	border: none;
	/* Borde sin estilo */
	padding: 10px;
	/* Espaciado interno */
	margin: 0;
	/* Margen cero */
	border-radius: 0;
	/* Bordes redondeados cero */
}

/* Estilo para hacer que el título del panel sea transparente */
.ui-panel-title {
	background-color: transparent;
	/* Fondo transparente */
	font-size: 20px;
	/* Tamaño de fuente */
	color: #333;
	/* Color de fuente */
}

/* Estilo para hacer que el encabezado del panel sea transparente */
.ui-panel-content {
	background-color: transparent;
	/* Fondo transparente */
	border: none;
	/* Borde sin estilo */
	padding: 0;
	/* Espaciado interno cero */
}

/* Estilo para los bordes de las imágenes en el panel */
.panel-imagen-horizontal {
	border: 1px solid #ccc;
	/* Borde delgado */
	margin: 20px;
	/* Margen exterior */
	padding: 10px;
	/* Espaciado interno */
	background-color: #fff;
	/* Fondo blanco */
}
</style>
	<script>
		$(document).ready(function() {
			$(".btn-primary").click(function() {
				if ($(this).hasClass("btn-with-image")) {
					$(".hidden-panels").slideToggle();
				}
			});
		});
	</script>
</h:head>

<h:body>

	<div class="container">
		<h1>Alquiler de Vehículos</h1>

		<h:form>
			<p:panel id="panelInicio" header="Inicio" styleClass="panel-inicio">
				<h:panelGrid columns="1">

					<!-- Panel Carros -->
					<h:panelGrid columns="1">
						<h:outputText value="Carros" styleClass="panel-header" />
						<h:panelGroup styleClass="panel-imagen-horizontal">
							<img src="imagenes/carroA.jpg" alt="Imagen de Carro" width="50%" />
							<p>Carro tipo A: id 1</p>
						</h:panelGroup>
						<h:panelGroup styleClass="panel-imagen-horizontal">
							<img src="imagenes/carroB.jpg" alt="Imagen de Carro" width="50%" />
							<p>Carro tipo B: id 2</p>
						</h:panelGroup>
						<h:panelGroup styleClass="panel-imagen-horizontal">
							<img src="imagenes/carroC.jpg" alt="Imagen de Carro" width="50%" />
							<p>Carro tipo C: id 3</p>
						</h:panelGroup>
					</h:panelGrid>

					<!-- Panel Motos -->
					<h:panelGrid columns="1">
						<h:outputText value="Motos" styleClass="panel-header" />
						<h:panelGroup styleClass="panel-imagen-horizontal">
							<img src="imagenes/moto.jpg" alt="Imagen de Moto" width="50%" />
							<p> Moto: id 4</p>
						</h:panelGroup>

					</h:panelGrid>

					<!-- Panel Bicicletas -->
					<h:panelGrid columns="1">
						<h:outputText value="Bicicletas" styleClass="panel-header" />
						<h:panelGroup styleClass="panel-imagen-horizontal">
							<img src="imagenes/bicicleta.jpg" alt="Imagen de Bicicleta" width="50%" />
							<p>Bicicleta: id 5</p>
						</h:panelGroup>
					</h:panelGrid>

					<!-- Botón de Registrar Alquiler -->
					<p:commandButton styleClass="btn btn-primary btn-with-image"
						value="Registrar Alquiler" update="accordion" />
				</h:panelGrid>
			</p:panel>

			<div class="hidden-panels">
				<p:accordionPanel id="accordion" multiple="true">
					<p:tab title="Datos del Cliente">
						<h:panelGrid columns="2">
							<h:outputLabel styleClass="panel-label">Nombre del Cliente:</h:outputLabel>
							<h:inputText styleClass="panel-field" id="nombreCliente"
								value="#{beanGestionVehiculos.nombreCliente}" required="true"
								requiredMessage="Ingrese Nombre del Cliente" />
							<p:message for="nombreCliente" />
							<h:outputLabel styleClass="panel-label">Fecha de Nacimiento:</h:outputLabel>
							<p:calendar styleClass="panel-field" id="fechaNacimientoCliente"
								value="#{beanGestionVehiculos.fechaNacimientoCliente}"
								pattern="MM/dd/yyyy" required="true"
								requiredMessage="Ingrese Fecha de Nacimiento" />
							<p:message for="fechaNacimientoCliente" />
							<h:outputLabel styleClass="panel-label">DNI del Cliente:</h:outputLabel>
							<h:inputText styleClass="panel-field" id="dniCliente"
								value="#{beanGestionVehiculos.DNICliente}" required="true"
								requiredMessage="Ingrese DNI del Cliente" />
							<p:message for="dniCliente" />
						</h:panelGrid>
					</p:tab>
					<p:tab title="Datos del Vehículo">
						<h:panelGrid columns="2">
							<h:outputLabel styleClass="panel-label">ID del Vehículo:</h:outputLabel>
							<h:inputText styleClass="panel-field" id="idVehiculo"
								value="#{beanGestionVehiculos.idVehiculo}" required="true"
								requiredMessage="Ingrese ID del Vehículo" />
							<p:message for="idVehiculo" />
							<h:outputLabel styleClass="panel-label">Hora de Recogida:</h:outputLabel>
							<p:calendar styleClass="panel-field" id="horaRecogida"
								value="#{beanGestionVehiculos.horaRecogida}"
								pattern="MM/dd/yyyy HH:mm" required="true"
								requiredMessage="Ingrese Hora de Recogida" showOn="button" />
							<p:message for="horaRecogida" />
						</h:panelGrid>
					</p:tab>
				</p:accordionPanel>

				<p:commandButton styleClass="btn btn-primary" value="Guardar Datos"
					action="#{beanGestionVehiculos.guardarAlquiler}" />

				<p:commandButton styleClass="btn btn-secondary" value="Limpiar"
					update="@form">
					<f:setPropertyActionListener
						target="#{beanGestionVehiculos.idCliente}" value="" />
					<f:setPropertyActionListener
						target="#{beanGestionVehiculos.idVehiculo}" value="" />
					<f:setPropertyActionListener
						target="#{beanGestionVehiculos.horaRecogida}" value="" />
					<f:setPropertyActionListener
						target="#{beanGestionVehiculos.totalHorasFacturadas}" value="" />
					<f:setPropertyActionListener
						target="#{beanGestionVehiculos.totalDinero}" value="" />
				</p:commandButton>
				<br /> <br /> <br />
				<div class="panel panel-resultados">
					<h2>Resultados</h2>
					<h:outputText style="color: #555;"
						value="Total de Dinero a Pagar: #{beanGestionVehiculos.totalDinero}" />
				</div>

				<div class="table-container">
					<p:dataTable var="alquiler"
						value="#{beanGestionVehiculos.alquileres}"
						emptyMessage="No hay alquileres registrados.">
						<p:column headerText="Cliente">
							<h:outputText value="#{alquiler.nombreCliente}" />
						</p:column>
						<p:column headerText="idVehículo">
							<h:outputText value="#{alquiler.idVehiculo}" />
						</p:column>
						<p:column headerText="HoraRecogida">
							<h:outputText value="#{alquiler.horaRecogida}" />
						</p:column>
						<p:column headerText="Total Horas Facturadas">
							<h:outputText value="#{alquiler.totalHorasFacturadas}" />
						</p:column>
						<p:column headerText="Total Dinero">
							<h:outputText value="#{alquiler.totalDinero}" />
						</p:column>
					</p:dataTable>
				</div>
			</div>
		</h:form>
	</div>
</h:body>
</html>
